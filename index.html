<!DOCTYPE html>
<html lang="ja">
  <head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-207139163-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-207139163-1');
</script>
        <meta charset="utf-8">
        <title>sample8-2 ~ フォームの送信を感知する 全項目に入力チェック(1)  </title>

       <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        
        <script>

            $(function() {
                $("form").submit(function() {
                    var err = 0;
                    if ($("input[name='postcode']").val() === "") {
                        if ($("span#postcode").length === 0) {
                            $("input[name='postcode']").css("border", "1px solid red").after("<span id='postcode'> 郵便番号を入力してください</span>");
                            $("span#postcode").css("color", "red");
                        }
                        err = 1;
                    } else {
                        $("input[name='postcode']").css("border", "1px solid gray");
                        $("span#postcode").text("");
                        $("span#postcode").css("color", "gray");
                    }
                    if ($("input[name='address']").val() === "") {
                        if ($("span#address").length === 0) {
                            $("input[name='address']").css("border", "1px solid red").after("<span id='address'> 住所を入力してください</span>");
                            $("span#address").css("color", "red");
                        }
                        err = 1;
                    } else {
                        $("input[name='address']").css("border", "1px solid gray");
                        $("span#address").text("");
                        $("span#address").css("color", "gray");
                    }
                    if ($("input[name='name']").val() === "") {
                        if ($("span#name").length === 0) {
                            $("input[name='name']").css("border", "1px solid red").after("<span id='name'> お名前を入力してください</span>");
                            $("span#name").css("color", "red");
                        }
                        err = 1;
                    } else {
                        $("input[name='name']").css("border", "1px solid gray");
                        $("span#name").text("");
                        $("span#name").css("color", "gray");
                    }
                    if ($("input[name='mail']").val() === "") {
                        if ($("span#mail").length === 0) {
                            $("input[name='mail']").css("border", "1px solid red").after("<span id='mail'> メールアドレスを入力してください</span>");
                            $("span#mail").css("color", "red");
                        }
                        err = 1;
                    } else {
                        $("input[name='mail']").css("border", "1px solid gray");
                        $("span#mail").text("");
                        $("span#mail").css("color", "gray");
                    }
                    if (err == 1) {
                        return false;
                    }

                }); // end of submit
            });
        </script>
    </head>
    <body>
        <form action="./check.html" method="GET">
            <p>郵便番号（必須）<input type="text" name="postcode" /></p>
            <p>お届け先のご住所（必須）<input type="text" name="address" /></p>
            <p>お名前（必須）<input type="text" name="name" /></p>
            <p>メールアドレス（必須）<input type="text" name="mail" /></p>
            <input type="hidden" name="error" id= "error" />
            <input type="submit" value="送信" />
        </form>
    </body>
</html>
